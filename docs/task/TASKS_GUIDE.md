# TASKS 작성 가이드

팀장 Agent가 이 파일을 참조하여 태스크를 작성합니다.

---

## 태스크 포맷

### TASK-XXX: 기능명

#### 1. 기본 정보
| 항목 | 내용 |
|------|------|
| 상태 | pending / in_progress / completed |
| 우선순위 | high / medium / low |
| 디자인 | [Figma](URL) 또는 `docs/designs/파일명.png` |

#### 2. 사용자 흐름 (User Flow)

**정상 흐름 (Happy Path)**
```
[시작 화면] → [화면1] → [액션] → [결과 화면]
```

**예외 흐름 (Exception Flow)**
| 케이스 | 트리거 | 처리 |
|--------|--------|------|
| API 실패 | 네트워크 오류, 서버 오류 | 에러 메시지 표시, 재시도 옵션 |
| 유효성 검증 실패 | 잘못된 입력값 | 입력 필드 에러 표시 |
| 사용자 취소 | 뒤로가기, 취소 버튼 | 이전 화면으로 복귀 |
| 타임아웃 | 응답 지연 | 타임아웃 메시지, 재시도 옵션 |
| 권한 부족 | 인증/인가 실패 | 로그인 화면 이동 또는 권한 요청 |

#### 3. 기능 정의
| 기능 | 설명 | 트리거 |
|------|------|--------|
| 기능명 | 기능 설명 | 버튼 클릭 / 입력 시 / 화면 진입 시 |

#### 4. API 정보
**API명**
- **Method**: `GET / POST / PUT / DELETE`
- **Endpoint**: `/api/path`
- **Request**:
```json
{ "field": "type" }
```
- **Response (성공)**:
```json
{ "field": "type" }
```
- **Response (실패)**:
```json
{ "error": "에러 코드", "message": "에러 메시지" }
```

#### 5. UI 구성
```
┌─────────────────────────┐
│      [와이어프레임]     │
└─────────────────────────┘
```
**컴포넌트**: 위젯 목록

#### 6. 작업 분배

**API Agent**
| 작업 | 파일 경로 | 상태 |
|------|----------|------|
| 모델명 | `lib/app/data/models/xxx.dart` | pending |

**Controller Agent**
| 작업 | 파일 경로 | 상태 |
|------|----------|------|
| 컨트롤러명 | `lib/app/modules/xxx/controllers/xxx_controller.dart` | blocked |
> 의존: API Agent 완료 후

**UI Agent**
| 작업 | 파일 경로 | 상태 |
|------|----------|------|
| 뷰명 | `lib/app/modules/xxx/views/xxx_view.dart` | blocked |
> 의존: Controller Agent 완료 후

---

## 예외 흐름 작성 가이드

태스크 작성 시 아래 예외 케이스를 고려하여 Exception Flow를 작성합니다.

### 공통 예외 케이스

| 케이스 | 설명 | 일반적인 처리 방법 |
|--------|------|-------------------|
| **API 실패** | 서버 오류(5xx), 네트워크 오류 | 에러 다이얼로그/스낵바, 재시도 버튼 |
| **유효성 검증 실패** | 클라이언트 측 입력값 검증 실패 | 필드별 에러 메시지 표시 |
| **서버 검증 실패** | 서버 측 비즈니스 로직 검증 실패 (4xx) | API 응답 에러 메시지 표시 |
| **사용자 취소** | 뒤로가기, 취소 버튼, 팝업 닫기 | 이전 화면 복귀, 변경사항 폐기 확인 |
| **타임아웃** | API 응답 지연 | 타임아웃 메시지, 재시도 옵션 |
| **권한 부족** | 인증 만료, 권한 없음 | 로그인 화면 이동, 권한 요청 안내 |
| **데이터 없음** | 빈 목록, 검색 결과 없음 | Empty State UI 표시 |
| **중복 요청** | 동일 액션 연속 실행 | 로딩 중 버튼 비활성화, 디바운스 |

### 예외 흐름 다이어그램 예시

```
[화면 진입] → [데이터 로딩]
                  ↓
         ┌───────┴───────┐
         ↓               ↓
    [성공]           [실패]
         ↓               ↓
  [데이터 표시]    [에러 화면]
                         ↓
                  [재시도 버튼]
                         ↓
                  [데이터 로딩] (루프)
```

---

## 참조
- `flutter_teams.md` - Agent별 담당 영역
- `docs/naming.md` - 파일 네이밍 규칙
